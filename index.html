<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ù…Ø¹Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯</title>
    <style>
        :root { --gold: #d4af37; --bg: #050505; --love: #ff0055; }
        body { background: var(--bg); color: #fff; font-family: sans-serif; text-align: center; margin: 0; padding: 20px; }
        .box { background: #111; padding: 20px; border-radius: 15px; border: 1px solid #333; max-width: 400px; margin: 20px auto; }
        input, textarea { width: 90%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #444; background: #000; color: #fff; }
        button { width: 95%; padding: 15px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-send { background: var(--love); color: #fff; }
        .btn-search { background: #00e5ff; color: #000; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1 style="color: var(--gold);">Ù†Ø¸Ø§Ù… Ù…ÙØ¹ÙØ¯ Ø§Ù„Ù…Ø·ÙˆØ±</h1>
    
    <div id="main">
        <button class="btn-send" onclick="show('create')">ğŸ’– Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</button>
        <button class="btn-search" onclick="show('search')">ğŸ” Ø¨Ø­Ø« Ø¹Ù† Ø±Ø³Ø§Ù„Ø©</button>
    </div>

    <div id="create" class="hidden">
        <div class="box">
            <textarea id="msg" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§"></textarea>
            <input type="text" id="pin" placeholder="Ø¶Ø¹ Ø±Ù…Ø²Ø§Ù‹ Ø³Ø±ÙŠØ§Ù‹">
            <button class="btn-send" id="saveBtn" onclick="save()">Ù†Ø´Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
            <button onclick="location.reload()">Ø±Ø¬ÙˆØ¹</button>
        </div>
    </div>

    <div id="search" class="hidden">
        <div class="box">
            <input type="text" id="spin" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ù„Ù„Ø¨Ø­Ø«">
            <button class="btn-search" id="getBtn" onclick="find()">Ø¨Ø­Ø«</button>
            <button onclick="location.reload()">Ø±Ø¬ÙˆØ¹</button>
        </div>
    </div>

    <div id="display" class="hidden">
        <div class="box">
            <h2 style="color: var(--love);">Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©:</h2>
            <p id="result" style="font-size: 1.2rem;"></p>
            <button onclick="location.reload()">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <script>
        const url = "https://api.npoint.io/469446d3e3871239c87d";

        function show(id) {
            document.getElementById('main').classList.add('hidden');
            document.getElementById(id).classList.remove('hidden');
        }

        async function save() {
            const m = document.getElementById('msg').value;
            const p = document.getElementById('pin').value;
            if(!m || !p) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
            document.getElementById('saveBtn').innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...";
            
            const res = await fetch(url);
            let data = await res.json();
            data[p] = m;
            await fetch(url, { method: 'POST', body: JSON.stringify(data) });
            
            alert("ØªÙ… Ø§Ù„Ø­ÙØ¸! Ø£Ø±Ø³Ù„ Ø§Ù„Ø±Ù…Ø² Ù„Ù…Ù† ØªØ­Ø¨.");
            location.reload();
        }

        async function find() {
            const p = document.getElementById('spin').value;
            document.getElementById('getBtn').innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...";
            const res = await fetch(url);
            const data = await res.json();
            
            if(data[p]) {
                document.getElementById('search').classList.add('hidden');
                document.getElementById('display').classList.remove('hidden');
                document.getElementById('result').innerText = data[p];
            } else {
                alert("Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!");
                location.reload();
            }
        }
    </script>
</body>
</html>
